
stream-buffer.c,500
struct stream_buffer_t* stream_buffer_create(size_t capacity)stream_buffer_create3,25
void stream_buffer_free(struct stream_buffer_t *sb)stream_buffer_free19,347
int stream_buffer_empty(struct stream_buffer_t *sb)stream_buffer_empty25,435
int stream_buffer_full(struct stream_buffer_t *sb)stream_buffer_full30,512
void stream_buffer_remove(struct stream_buffer_t *sb)stream_buffer_remove45,906
struct cache_block_t* stream_buffer_head(struct stream_buffer_t *sb)stream_buffer_head55,1143

spec-mem.c,911
static struct spec_mem_page_t *spec_mem_page_get(struct spec_mem_t *spec_mem, uint32_t addr)spec_mem_page_get27,859
static struct spec_mem_page_t *spec_mem_page_create(struct spec_mem_t *spec_mem, uint32_t addr)spec_mem_page_create46,1285
static void spec_mem_access_aligned(struct spec_mem_t *spec_mem, uint32_t addr, int size,spec_mem_access_aligned76,2083
static void spec_mem_access(struct spec_mem_t *spec_mem, uint32_t addr, int size,spec_mem_access119,3286
struct spec_mem_t *spec_mem_create(struct mem_t *mem)spec_mem_create144,3725
void spec_mem_free(struct spec_mem_t *spec_mem)spec_mem_free159,4086
void spec_mem_read(struct spec_mem_t *spec_mem, uint32_t addr, int size, void *buf)spec_mem_read166,4184
void spec_mem_write(struct spec_mem_t *spec_mem, uint32_t addr, int size, void *buf)spec_mem_write172,4336
void spec_mem_clear(struct spec_mem_t *spec_mem)spec_mem_clear178,4490

nmoesi-protocol.c,6668
int EV_MOD_NMOESI_LOAD;EV_MOD_NMOESI_LOAD24,857
int EV_MOD_NMOESI_LOAD_LOCK;EV_MOD_NMOESI_LOAD_LOCK25,881
int EV_MOD_NMOESI_LOAD_ACTION;EV_MOD_NMOESI_LOAD_ACTION26,910
int EV_MOD_NMOESI_LOAD_MISS;EV_MOD_NMOESI_LOAD_MISS27,941
int EV_MOD_NMOESI_LOAD_UNLOCK;EV_MOD_NMOESI_LOAD_UNLOCK28,970
int EV_MOD_NMOESI_LOAD_FINISH;EV_MOD_NMOESI_LOAD_FINISH29,1001
int EV_MOD_NMOESI_STORE;EV_MOD_NMOESI_STORE31,1033
int EV_MOD_NMOESI_STORE_LOCK;EV_MOD_NMOESI_STORE_LOCK32,1058
int EV_MOD_NMOESI_STORE_ACTION;EV_MOD_NMOESI_STORE_ACTION33,1088
int EV_MOD_NMOESI_STORE_UNLOCK;EV_MOD_NMOESI_STORE_UNLOCK34,1120
int EV_MOD_NMOESI_STORE_FINISH;EV_MOD_NMOESI_STORE_FINISH35,1152
int EV_MOD_NMOESI_NC_STORE;EV_MOD_NMOESI_NC_STORE37,1185
int EV_MOD_NMOESI_NC_STORE_LOCK;EV_MOD_NMOESI_NC_STORE_LOCK38,1213
int EV_MOD_NMOESI_NC_STORE_WRITEBACK;EV_MOD_NMOESI_NC_STORE_WRITEBACK39,1246
int EV_MOD_NMOESI_NC_STORE_ACTION;EV_MOD_NMOESI_NC_STORE_ACTION40,1284
int EV_MOD_NMOESI_NC_STORE_MISS;EV_MOD_NMOESI_NC_STORE_MISS41,1319
int EV_MOD_NMOESI_NC_STORE_UNLOCK;EV_MOD_NMOESI_NC_STORE_UNLOCK42,1352
int EV_MOD_NMOESI_NC_STORE_FINISH;EV_MOD_NMOESI_NC_STORE_FINISH43,1387
int EV_MOD_NMOESI_FIND_AND_LOCK;EV_MOD_NMOESI_FIND_AND_LOCK45,1423
int EV_MOD_NMOESI_FIND_AND_LOCK_PORT;EV_MOD_NMOESI_FIND_AND_LOCK_PORT46,1456
int EV_MOD_NMOESI_FIND_AND_LOCK_ACTION;EV_MOD_NMOESI_FIND_AND_LOCK_ACTION47,1494
int EV_MOD_NMOESI_FIND_AND_LOCK_FINISH;EV_MOD_NMOESI_FIND_AND_LOCK_FINISH48,1534
int EV_MOD_NMOESI_EVICT;EV_MOD_NMOESI_EVICT50,1575
int EV_MOD_NMOESI_EVICT_INVALID;EV_MOD_NMOESI_EVICT_INVALID51,1600
int EV_MOD_NMOESI_EVICT_ACTION;EV_MOD_NMOESI_EVICT_ACTION52,1633
int EV_MOD_NMOESI_EVICT_RECEIVE;EV_MOD_NMOESI_EVICT_RECEIVE53,1665
int EV_MOD_NMOESI_EVICT_WRITEBACK;EV_MOD_NMOESI_EVICT_WRITEBACK54,1698
int EV_MOD_NMOESI_EVICT_WRITEBACK_EXCLUSIVE;EV_MOD_NMOESI_EVICT_WRITEBACK_EXCLUSIVE55,1733
int EV_MOD_NMOESI_EVICT_WRITEBACK_FINISH;EV_MOD_NMOESI_EVICT_WRITEBACK_FINISH56,1778
int EV_MOD_NMOESI_EVICT_PROCESS;EV_MOD_NMOESI_EVICT_PROCESS57,1820
int EV_MOD_NMOESI_EVICT_PROCESS_NONCOHERENT;EV_MOD_NMOESI_EVICT_PROCESS_NONCOHERENT58,1853
int EV_MOD_NMOESI_EVICT_WAIT_FOR_REQS;EV_MOD_NMOESI_EVICT_WAIT_FOR_REQS59,1898
int EV_MOD_NMOESI_EVICT_REPLY;EV_MOD_NMOESI_EVICT_REPLY60,1937
int EV_MOD_NMOESI_EVICT_REPLY_RECEIVE;EV_MOD_NMOESI_EVICT_REPLY_RECEIVE61,1968
int EV_MOD_NMOESI_EVICT_FINISH;EV_MOD_NMOESI_EVICT_FINISH62,2007
int EV_MOD_NMOESI_PREF_EVICT;EV_MOD_NMOESI_PREF_EVICT64,2040
int EV_MOD_NMOESI_PREF_EVICT_INVALID;EV_MOD_NMOESI_PREF_EVICT_INVALID65,2070
int EV_MOD_NMOESI_PREF_EVICT_ACTION;EV_MOD_NMOESI_PREF_EVICT_ACTION66,2108
int EV_MOD_NMOESI_PREF_EVICT_RECEIVE;EV_MOD_NMOESI_PREF_EVICT_RECEIVE67,2145
int EV_MOD_NMOESI_PREF_EVICT_PROCESS;EV_MOD_NMOESI_PREF_EVICT_PROCESS68,2183
int EV_MOD_NMOESI_PREF_EVICT_REPLY;EV_MOD_NMOESI_PREF_EVICT_REPLY69,2221
int EV_MOD_NMOESI_PREF_EVICT_REPLY_RECEIVE;EV_MOD_NMOESI_PREF_EVICT_REPLY_RECEIVE70,2257
int EV_MOD_NMOESI_PREF_EVICT_FINISH;EV_MOD_NMOESI_PREF_EVICT_FINISH71,2301
int EV_MOD_NMOESI_WRITE_REQUEST;EV_MOD_NMOESI_WRITE_REQUEST73,2339
int EV_MOD_NMOESI_WRITE_REQUEST_RECEIVE;EV_MOD_NMOESI_WRITE_REQUEST_RECEIVE74,2372
int EV_MOD_NMOESI_WRITE_REQUEST_ACTION;EV_MOD_NMOESI_WRITE_REQUEST_ACTION75,2413
int EV_MOD_NMOESI_WRITE_REQUEST_EXCLUSIVE;EV_MOD_NMOESI_WRITE_REQUEST_EXCLUSIVE76,2453
int EV_MOD_NMOESI_WRITE_REQUEST_UPDOWN;EV_MOD_NMOESI_WRITE_REQUEST_UPDOWN77,2496
int EV_MOD_NMOESI_WRITE_REQUEST_UPDOWN_FINISH;EV_MOD_NMOESI_WRITE_REQUEST_UPDOWN_FINISH78,2536
int EV_MOD_NMOESI_WRITE_REQUEST_DOWNUP;EV_MOD_NMOESI_WRITE_REQUEST_DOWNUP79,2583
int EV_MOD_NMOESI_WRITE_REQUEST_DOWNUP_FINISH;EV_MOD_NMOESI_WRITE_REQUEST_DOWNUP_FINISH80,2623
int EV_MOD_NMOESI_WRITE_REQUEST_REPLY;EV_MOD_NMOESI_WRITE_REQUEST_REPLY81,2670
int EV_MOD_NMOESI_WRITE_REQUEST_FINISH;EV_MOD_NMOESI_WRITE_REQUEST_FINISH82,2709
int EV_MOD_NMOESI_READ_REQUEST;EV_MOD_NMOESI_READ_REQUEST84,2750
int EV_MOD_NMOESI_READ_REQUEST_RECEIVE;EV_MOD_NMOESI_READ_REQUEST_RECEIVE85,2782
int EV_MOD_NMOESI_READ_REQUEST_LOCK;EV_MOD_NMOESI_READ_REQUEST_LOCK86,2822
int EV_MOD_NMOESI_READ_REQUEST_ACTION;EV_MOD_NMOESI_READ_REQUEST_ACTION87,2859
int EV_MOD_NMOESI_READ_REQUEST_UPDOWN;EV_MOD_NMOESI_READ_REQUEST_UPDOWN88,2898
int EV_MOD_NMOESI_READ_REQUEST_UPDOWN_MISS;EV_MOD_NMOESI_READ_REQUEST_UPDOWN_MISS89,2937
int EV_MOD_NMOESI_READ_REQUEST_UPDOWN_FINISH;EV_MOD_NMOESI_READ_REQUEST_UPDOWN_FINISH90,2981
int EV_MOD_NMOESI_READ_REQUEST_DOWNUP;EV_MOD_NMOESI_READ_REQUEST_DOWNUP91,3027
int EV_MOD_NMOESI_READ_REQUEST_DOWNUP_WAIT_FOR_REQS;EV_MOD_NMOESI_READ_REQUEST_DOWNUP_WAIT_FOR_REQS92,3066
int EV_MOD_NMOESI_READ_REQUEST_DOWNUP_FINISH;EV_MOD_NMOESI_READ_REQUEST_DOWNUP_FINISH93,3119
int EV_MOD_NMOESI_READ_REQUEST_REPLY;EV_MOD_NMOESI_READ_REQUEST_REPLY94,3165
int EV_MOD_NMOESI_READ_REQUEST_FINISH;EV_MOD_NMOESI_READ_REQUEST_FINISH95,3203
int EV_MOD_NMOESI_INVALIDATE;EV_MOD_NMOESI_INVALIDATE97,3243
int EV_MOD_NMOESI_INVALIDATE_FINISH;EV_MOD_NMOESI_INVALIDATE_FINISH98,3273
int EV_MOD_NMOESI_PEER_SEND;EV_MOD_NMOESI_PEER_SEND100,3311
int EV_MOD_NMOESI_PEER_RECEIVE;EV_MOD_NMOESI_PEER_RECEIVE101,3340
int EV_MOD_NMOESI_PEER_REPLY_ACK;EV_MOD_NMOESI_PEER_REPLY_ACK102,3372
int EV_MOD_NMOESI_PEER_FINISH;EV_MOD_NMOESI_PEER_FINISH103,3406
int EV_MOD_PREF;EV_MOD_PREF105,3438
int EV_MOD_PREF_LOCK;EV_MOD_PREF_LOCK106,3455
int EV_MOD_PREF_ACTION;EV_MOD_PREF_ACTION107,3477
int EV_MOD_PREF_MISS;EV_MOD_PREF_MISS108,3501
int EV_MOD_PREF_UNLOCK;EV_MOD_PREF_UNLOCK109,3523
int EV_MOD_PREF_FINISH;EV_MOD_PREF_FINISH110,3547
void mod_handler_pref(int event, void *data)mod_handler_pref114,3595
void mod_handler_nmoesi_load(int event, void *data)mod_handler_nmoesi_load315,9325
void mod_handler_nmoesi_store(int event, void *data)mod_handler_nmoesi_store553,16117
void mod_handler_nmoesi_nc_store(int event, void *data)mod_handler_nmoesi_nc_store740,21526
void mod_handler_nmoesi_find_and_lock(int event, void *data)mod_handler_nmoesi_find_and_lock975,28454
void mod_handler_nmoesi_evict(int event, void *data)mod_handler_nmoesi_evict1350,39967
void mod_handler_nmoesi_pref_evict(int event, void *data)mod_handler_nmoesi_pref_evict1721,50855
void mod_handler_nmoesi_read_request(int event, void *data)mod_handler_nmoesi_read_request1944,57279
void mod_handler_nmoesi_write_request(int event, void *data)mod_handler_nmoesi_write_request2681,81044
void mod_handler_nmoesi_peer(int event, void *data)mod_handler_nmoesi_peer3091,94312
void mod_handler_nmoesi_invalidate(int event, void *data)mod_handler_nmoesi_invalidate3158,96247

mem-system.c,474
int mem_debug_category;mem_debug_category29,899
int mem_trace_category;mem_trace_category30,923
struct mem_system_t *mem_system;mem_system32,948
void mem_system_init(void)mem_system_init41,1013
void mem_system_done(void)mem_system_done182,12556
void mem_system_dump_report()mem_system_dump_report207,13048
struct mod_t *mem_system_get_mod(char *mod_name)mem_system_get_mod322,18117
struct net_t *mem_system_get_net(char *net_name)mem_system_get_net341,18416

config.c,3176
char *mem_config_file_name = "";mem_config_file_name32,938
char *mem_report_file_name = "";mem_report_file_name33,971
char *mem_config_help =mem_config_help35,1005
#define MEM_SYSTEM_MAX_LEVELS MEM_SYSTEM_MAX_LEVELS207,10607
static char *err_mem_config_note =err_mem_config_note209,10642
static char *err_mem_config_net =err_mem_config_net213,10825
static char *err_mem_levels =err_mem_levels217,11017
static char *err_mem_block_size =err_mem_block_size223,11334
static char *err_mem_ignored_entry =err_mem_ignored_entry227,11519
static char *err_mem_connect =err_mem_connect231,11685
static void mem_config_cpu_default(struct config_t *config)mem_config_cpu_default237,11928
static void mem_config_gpu_default(struct config_t *config)mem_config_gpu_default318,15025
static void mem_config_read_general(struct config_t *config)mem_config_read_general411,18643
static void mem_config_read_networks(struct config_t *config)mem_config_read_networks426,19024
static void mem_config_insert_module_in_network(struct config_t *config,mem_config_insert_module_in_network474,20348
static struct mod_t *mem_config_read_cache(struct config_t *config, char *section)mem_config_read_cache579,23780
static struct mod_t *mem_config_read_main_memory(struct config_t *config, char *section)mem_config_read_main_memory695,27948
static void mem_config_read_module_address_range(struct config_t *config,mem_config_read_module_address_range768,30452
static void mem_config_read_modules(struct config_t *config)mem_config_read_modules883,33515
static void mem_config_check_route_to_main_memory(struct mod_t *mod, int block_size, int level)mem_config_check_route_to_main_memory939,35127
static void mem_config_read_low_modules(struct config_t *config)mem_config_read_low_modules978,36310
static void mem_config_read_cpu_entries(struct config_t *config)mem_config_read_cpu_entries1048,38271
static void mem_config_read_gpu_entries(struct config_t *config)mem_config_read_gpu_entries1187,42421
static void mem_config_create_switches(struct config_t *config)mem_config_create_switches1291,45295
static void mem_config_check_routes(void)mem_config_check_routes1359,47348
static void mem_config_set_mod_color(struct mod_t *mod, int color)mem_config_set_mod_color1435,49727
static int mem_config_check_mod_color(struct mod_t *mod, int color)mem_config_check_mod_color1455,50209
static void mem_config_check_disjoint(void)mem_config_check_disjoint1477,50681
static void mem_config_calculate_sub_block_sizes(void)mem_config_calculate_sub_block_sizes1504,51386
static void mem_config_set_mod_level(struct mod_t *mod, int level)mem_config_set_mod_level1551,52784
static void mem_config_calculate_mod_levels(void)mem_config_calculate_mod_levels1569,53171
#define MEM_SYSTEM_TRACE_VERSION_MAJOR	MEM_SYSTEM_TRACE_VERSION_MAJOR1613,54181
#define MEM_SYSTEM_TRACE_VERSION_MINOR	MEM_SYSTEM_TRACE_VERSION_MINOR1614,54223
static void mem_config_trace(void)mem_config_trace1617,54269
static void mem_config_read_commands(struct config_t *config)mem_config_read_commands1683,56011
void mem_system_config_read(void)mem_system_config_read1725,56876

cache.c,1536
struct string_map_t cache_policy_map =cache_policy_map26,844
struct string_map_t cache_block_state_map =cache_block_state_map35,998
enum cache_waylist_enumcache_waylist_enum54,1284
	cache_waylist_head,cache_waylist_head56,1310
	cache_waylist_tailcache_waylist_tail57,1331
static void cache_update_waylist(struct cache_set_t *set,cache_update_waylist60,1355
struct cache_t *cache_create(char *name, unsigned int num_sets, unsigned int block_size,cache_create119,2465
void cache_free(struct cache_t *cache)cache_free196,4824
void cache_decode_address(struct cache_t *cache, unsigned int addr, int *set_ptr, int *tag_ptr, cache_decode_address212,5224
int cache_find_block(struct cache_t *cache, unsigned int addr, int *set_ptr, int *way_ptr, cache_find_block224,5753
void cache_set_block(struct cache_t *cache, int set, int way, int tag, int state, unsigned int prefetched)cache_set_block252,6550
void cache_set_pref_block(struct cache_t *cache, int pref_stream, int tag, int state)cache_set_pref_block273,7283
void cache_get_block(struct cache_t *cache, int set, int way, int *tag_ptr, int *state_ptr)cache_get_block289,7797
void cache_get_pref_block(struct cache_t *cache, int pref_stream,cache_get_pref_block297,8095
void cache_access_block(struct cache_t *cache, int set, int way)cache_access_block311,8524
int cache_replace_block(struct cache_t *cache, int set)cache_replace_block332,9283
void cache_set_transient_tag(struct cache_t *cache, int set, int way, int tag)cache_set_transient_tag363,10113

module.c,2708
struct string_map_t mod_access_kind_map =mod_access_kind_map23,849
struct mod_t *mod_create(char *name, enum mod_kind_t kind, int num_ports,mod_create40,1077
void mod_free(struct mod_t *mod)mod_free84,2061
void mod_dump(struct mod_t *mod, FILE *f)mod_dump110,2548
long long mod_access(struct mod_t *mod, enum mod_access_kind_t access_kind, mod_access119,2753
int mod_can_access(struct mod_t *mod, unsigned int addr)mod_can_access190,4343
void mod_get_tag_set(struct mod_t *mod, unsigned int addr, int *tag_ptr, int *set_ptr)mod_get_tag_set210,4910
int mod_find_block(struct mod_t *mod, unsigned int addr, int *set_ptr,mod_find_block236,5621
int mod_find_pref_block(struct mod_t *mod, unsigned int addr,mod_find_pref_block292,6947
void mod_lock_port(struct mod_t *mod, struct mod_stack_t *stack, int event)mod_lock_port349,8427
void mod_unlock_port(struct mod_t *mod, struct mod_port_t *port,mod_unlock_port385,9210
void mod_access_start(struct mod_t *mod, struct mod_stack_t *stack,mod_access_start418,10026
void mod_access_finish(struct mod_t *mod, struct mod_stack_t *stack)mod_access_finish439,10620
int mod_in_flight_access(struct mod_t *mod, long long id, unsigned int addr)mod_in_flight_access468,11510
struct mod_stack_t *mod_in_flight_address(struct mod_t *mod, unsigned int addr,mod_in_flight_address488,12174
struct mod_stack_t *mod_in_flight_write(struct mod_t *mod,mod_in_flight_write516,13009
int mod_serves_address(struct mod_t *mod, unsigned int addr)mod_serves_address536,13464
struct mod_t *mod_get_low_mod(struct mod_t *mod, unsigned int addr)mod_get_low_mod556,13987
int mod_get_retry_latency(struct mod_t *mod)mod_get_retry_latency597,14974
struct mod_stack_t *mod_can_coalesce(struct mod_t *mod,mod_can_coalesce608,15363
void mod_coalesce(struct mod_t *mod, struct mod_stack_t *master_stack,mod_coalesce712,17890
long long mod_stack_id;mod_stack_id743,18729
struct mod_stack_t *mod_stack_create(long long id, struct mod_t *mod,mod_stack_create745,18754
void mod_stack_return(struct mod_stack_t *stack)mod_stack_return777,19497
void mod_stack_wait_in_mod(struct mod_stack_t *stack,mod_stack_wait_in_mod792,19807
void mod_stack_wakeup_mod(struct mod_t *mod)mod_stack_wakeup_mod803,20126
void mod_stack_wait_in_port(struct mod_stack_t *stack,mod_stack_wait_in_port819,20457
void mod_stack_wakeup_port(struct mod_port_t *port)mod_stack_wakeup_port830,20787
void mod_stack_wait_in_stack(struct mod_stack_t *stack,mod_stack_wait_in_stack846,21129
void mod_stack_wakeup_stack(struct mod_stack_t *master_stack)mod_stack_wakeup_stack858,21489
void mod_stack_set_reply(struct mod_stack_t *stack, int reply)mod_stack_set_reply888,22332

local-mem-protocol.c,1020
int EV_MOD_LOCAL_MEM_LOAD;EV_MOD_LOCAL_MEM_LOAD24,834
int EV_MOD_LOCAL_MEM_LOAD_LOCK;EV_MOD_LOCAL_MEM_LOAD_LOCK25,861
int EV_MOD_LOCAL_MEM_LOAD_FINISH;EV_MOD_LOCAL_MEM_LOAD_FINISH26,893
int EV_MOD_LOCAL_MEM_STORE;EV_MOD_LOCAL_MEM_STORE28,928
int EV_MOD_LOCAL_MEM_STORE_LOCK;EV_MOD_LOCAL_MEM_STORE_LOCK29,956
int EV_MOD_LOCAL_MEM_STORE_FINISH;EV_MOD_LOCAL_MEM_STORE_FINISH30,989
int EV_MOD_LOCAL_MEM_FIND_AND_LOCK;EV_MOD_LOCAL_MEM_FIND_AND_LOCK32,1025
int EV_MOD_LOCAL_MEM_FIND_AND_LOCK_PORT;EV_MOD_LOCAL_MEM_FIND_AND_LOCK_PORT33,1061
int EV_MOD_LOCAL_MEM_FIND_AND_LOCK_ACTION;EV_MOD_LOCAL_MEM_FIND_AND_LOCK_ACTION34,1102
int EV_MOD_LOCAL_MEM_FIND_AND_LOCK_FINISH;EV_MOD_LOCAL_MEM_FIND_AND_LOCK_FINISH35,1145
void mod_handler_local_mem_load(int event, void *data)mod_handler_local_mem_load42,1238
void mod_handler_local_mem_store(int event, void *data)mod_handler_local_mem_store144,4103
void mod_handler_local_mem_find_and_lock(int event, void *data)mod_handler_local_mem_find_and_lock243,6752

mem-system.h,14951
#define MEM_SYSTEM_HMEM_SYSTEM_H20,811
#define MEM_LOG_PAGE_SIZE MEM_LOG_PAGE_SIZE35,1041
#define MEM_PAGE_SHIFT MEM_PAGE_SHIFT36,1071
#define MEM_PAGE_SIZE MEM_PAGE_SIZE37,1113
#define MEM_PAGE_MASK MEM_PAGE_MASK38,1161
#define MEM_PAGE_COUNT MEM_PAGE_COUNT39,1207
enum mem_access_tmem_access_t41,1237
	mem_access_none   = 0x00,mem_access_none43,1257
	mem_access_read   = 0x01,mem_access_read44,1284
	mem_access_write  = 0x02,mem_access_write45,1311
	mem_access_exec   = 0x04,mem_access_exec46,1338
	mem_access_init   = 0x08,mem_access_init47,1365
	mem_access_modif  = 0x10mem_access_modif48,1392
struct mem_page_tmem_page_t55,1492
	unsigned int tag;tag57,1512
	enum mem_access_t perm;  /* Access permissions; combination of flags */perm58,1531
	struct mem_page_t *next;next59,1604
	unsigned char *data;data60,1630
struct mem_tmem_t63,1656
	int num_links;num_links66,1724
	struct mem_page_t *pages[MEM_PAGE_COUNT];pages69,1761
	int safe;safe72,1822
	unsigned int heap_break;heap_break75,1869
	unsigned int last_address;last_address78,1925
#define SPEC_MEM_PAGE_TABLE_SIZE SPEC_MEM_PAGE_TABLE_SIZE134,4112
#define SPEC_MEM_LOG_PAGE_SIZE SPEC_MEM_LOG_PAGE_SIZE138,4258
#define SPEC_MEM_PAGE_SIZE SPEC_MEM_PAGE_SIZE139,4292
#define SPEC_MEM_PAGE_MASK SPEC_MEM_PAGE_MASK140,4350
#define SPEC_MEM_MAX_PAGE_COUNT SPEC_MEM_MAX_PAGE_COUNT146,4667
struct spec_mem_page_tspec_mem_page_t148,4705
	unsigned int addr;addr150,4730
	unsigned char data[SPEC_MEM_PAGE_SIZE];data151,4750
	struct spec_mem_page_t *next;next152,4791
struct spec_mem_tspec_mem_t155,4826
	struct mem_t *mem;  /* Associated non-speculative memory */mem157,4846
	int page_count;  /* Number of words currently written */page_count159,4908
	struct spec_mem_page_t *pages[SPEC_MEM_PAGE_TABLE_SIZE];  /* Hash table */pages160,4966
enum cache_policy_tcache_policy_t181,5505
	cache_policy_invalid = 0,cache_policy_invalid183,5527
	cache_policy_lru,cache_policy_lru184,5554
	cache_policy_fifo,cache_policy_fifo185,5573
	cache_policy_randomcache_policy_random186,5593
enum cache_block_state_tcache_block_state_t189,5618
	cache_block_invalid = 0,cache_block_invalid191,5645
	cache_block_noncoherent,cache_block_noncoherent192,5671
	cache_block_modified,cache_block_modified193,5697
	cache_block_owned,cache_block_owned194,5720
	cache_block_exclusive,cache_block_exclusive195,5740
	cache_block_sharedcache_block_shared196,5764
struct cache_block_tcache_block_t199,5788
	struct cache_block_t *way_next;way_next201,5811
	struct cache_block_t *way_prev;way_prev202,5844
	int tag;tag204,5878
	int transient_tag;transient_tag205,5888
	int way;way206,5908
	enum cache_block_state_t state;state208,5919
	unsigned int prefetched;prefetched209,5952
struct cache_set_tcache_set_t212,5982
	struct cache_block_t *way_head;way_head214,6003
	struct cache_block_t *way_tail;way_tail215,6036
	struct cache_block_t *blocks;blocks216,6069
struct cache_tcache_t219,6104
	char *name;name221,6121
	unsigned int num_sets;num_sets223,6135
	unsigned int block_size;block_size224,6159
	unsigned int assoc;assoc225,6185
	enum cache_policy_t policy;policy226,6206
	unsigned int num_pref_streams; /* Number of streams for prefetch */num_pref_streams228,6237
	unsigned int pref_aggressivity; /* Number of blocks to prefetch per stream */pref_aggressivity229,6306
	struct stream_buffer_t **stream_buffers;stream_buffers230,6385
	int fifo;fifo231,6427
	struct cache_set_t *sets;sets233,6439
	unsigned int block_mask;block_mask234,6466
	int log_block_size;log_block_size235,6492
struct stream_buffer_tstream_buffer_t266,7630
    struct cache_block_t *elem; 	// block arrayelem268,7655
    size_t capacity;  				// maximum number of items in the buffercapacity269,7703
    size_t count;     				// number of items in the buffercount270,7770
    size_t head;       				// position of headhead271,7829
    size_t tail;       				// position of tailtail272,7876
struct dir_lock_tdir_lock_t290,8266
	int lock;lock292,8286
	long long stack_id;stack_id293,8297
	struct mod_stack_t *lock_queue;lock_queue294,8318
#define DIR_ENTRY_OWNER_NONE DIR_ENTRY_OWNER_NONE297,8355
#define DIR_ENTRY_VALID_OWNER(DIR_ENTRY_VALID_OWNER298,8390
struct dir_entry_tdir_entry_t300,8459
	int owner;  /* Node owning the block (-1 = No owner)*/owner302,8480
	int num_sharers;  /* Number of 1s in next field */num_sharers303,8536
	unsigned char sharer[0];  /* Bitmap of sharers (must be last field) */sharer304,8588
struct dir_tdir_t307,8664
	char *name;name309,8679
	int num_nodes;num_nodes313,8800
	int xsize, ysize, zsize;xsize320,9099
	int xsize, ysize, zsize;ysize320,9099
	int xsize, ysize, zsize;zsize320,9099
	int ssize, asize;ssize325,9310
	int ssize, asize;asize325,9310
	struct dir_lock_t *dir_lock;dir_lock329,9443
	struct dir_lock_t *pref_dir_lock; //VVVpref_dir_lock332,9546
	unsigned char data[0];data336,9714
enum mmu_access_tmmu_access_t371,11136
	mmu_access_invalid = 0,mmu_access_invalid373,11156
	mmu_access_read,mmu_access_read374,11181
	mmu_access_write,mmu_access_write375,11199
	mmu_access_executemmu_access_execute376,11218
struct mod_port_tmod_port_t403,11727
	int locked;locked406,11771
	long long lock_when;  /* Cycle when it was locked */lock_when407,11784
	struct mod_stack_t *stack;  /* Access locking port */stack408,11838
	struct mod_stack_t *waiting_list_head;waiting_list_head411,11914
	struct mod_stack_t *waiting_list_tail;waiting_list_tail412,11954
	int waiting_list_count;waiting_list_count413,11994
	int waiting_list_max;waiting_list_max414,12019
enum mod_access_kind_tmod_access_kind_t421,12146
	mod_access_invalid = 0,mod_access_invalid423,12171
	mod_access_load,mod_access_load424,12196
	mod_access_store,mod_access_store425,12214
	mod_access_nc_store,mod_access_nc_store426,12233
	mod_access_prefetchmod_access_prefetch427,12255
enum mod_kind_tmod_kind_t431,12299
	mod_kind_invalid = 0,mod_kind_invalid433,12317
	mod_kind_cache,mod_kind_cache434,12340
	mod_kind_main_memory,mod_kind_main_memory435,12357
	mod_kind_local_memorymod_kind_local_memory436,12380
enum mod_range_kind_tmod_range_kind_t440,12435
	mod_range_invalid = 0,mod_range_invalid442,12459
	mod_range_bounds,mod_range_bounds443,12483
	mod_range_interleavedmod_range_interleaved444,12502
#define MOD_ACCESS_HASH_TABLE_SIZE MOD_ACCESS_HASH_TABLE_SIZE447,12529
struct mod_tmod_t450,12589
	enum mod_kind_t kind;kind453,12622
	char *name;name454,12645
	int block_size;block_size455,12658
	int log_block_size;log_block_size456,12675
	int latency;latency457,12696
	int mshr_size;mshr_size458,12710
	int prefetch_enabled;prefetch_enabled459,12726
	int level;level462,12798
	enum mod_range_kind_t range_kind;range_kind465,12849
			unsigned int low;low471,12949
			unsigned int high;high472,12970
		} bounds;bounds473,12992
			unsigned int mod;mod478,13065
			unsigned int div;div479,13086
			unsigned int eq;eq480,13107
		} interleaved;interleaved481,13127
	} range;range482,13144
	struct linked_list_t *pq;pq485,13188
	struct mod_port_t *ports;ports488,13229
	int num_ports;num_ports489,13256
	int num_locked_ports;num_locked_ports490,13272
	struct mod_stack_t *port_waiting_list_head;port_waiting_list_head493,13334
	struct mod_stack_t *port_waiting_list_tail;port_waiting_list_tail494,13379
	int port_waiting_list_count;port_waiting_list_count495,13424
	int port_waiting_list_max;port_waiting_list_max496,13454
	struct dir_t *dir;dir499,13500
	int dir_size;dir_size500,13520
	int dir_assoc;dir_assoc501,13535
	int dir_num_sets;dir_num_sets502,13551
	struct mod_stack_t *waiting_list_head;waiting_list_head505,13601
	struct mod_stack_t *waiting_list_tail;waiting_list_tail506,13641
	int waiting_list_count;waiting_list_count507,13681
	int waiting_list_max;waiting_list_max508,13706
	struct cache_t *cache;cache511,13753
	struct linked_list_t *high_mod_list;high_mod_list514,13813
	struct linked_list_t *low_mod_list;low_mod_list515,13851
	int sub_block_size;sub_block_size519,14010
	int num_sub_blocks;  /* block_size / sub_block_size */num_sub_blocks520,14031
	struct net_t *high_net;high_net523,14109
	struct net_t *low_net;low_net524,14134
	struct net_node_t *high_net_node;high_net_node525,14158
	struct net_node_t *low_net_node;low_net_node526,14193
	struct mod_stack_t *access_list_head;access_list_head529,14247
	struct mod_stack_t *access_list_tail;access_list_tail530,14286
	int access_list_count;access_list_count531,14325
	int access_list_max;access_list_max532,14349
	struct mod_stack_t *write_access_list_head;write_access_list_head535,14397
	struct mod_stack_t *write_access_list_tail;write_access_list_tail536,14442
	int write_access_list_count;write_access_list_count537,14487
	int write_access_list_max;write_access_list_max538,14517
	int access_list_coalesced_count;access_list_coalesced_count542,14662
		struct mod_stack_t *bucket_list_head;bucket_list_head547,14738
		struct mod_stack_t *bucket_list_tail;bucket_list_tail548,14778
		int bucket_list_count;bucket_list_count549,14818
		int bucket_list_max;bucket_list_max550,14843
	} access_hash_table[MOD_ACCESS_HASH_TABLE_SIZE];access_hash_table551,14866
	int color;color555,15035
	long long accesses;accesses558,15066
	long long hits;hits559,15087
	long long reads;reads561,15105
	long long effective_reads;effective_reads562,15123
	long long effective_read_hits;effective_read_hits563,15151
	long long writes;writes564,15183
	long long effective_writes;effective_writes565,15202
	long long effective_write_hits;effective_write_hits566,15231
	long long evictions;evictions567,15264
	long long blocking_reads;blocking_reads569,15287
	long long non_blocking_reads;non_blocking_reads570,15314
	long long read_hits;read_hits571,15345
	long long blocking_writes;blocking_writes572,15367
	long long non_blocking_writes;non_blocking_writes573,15395
	long long write_hits;write_hits574,15427
	long long read_retries;read_retries576,15451
	long long write_retries;write_retries577,15476
	long long no_retry_accesses;no_retry_accesses579,15503
	long long no_retry_hits;no_retry_hits580,15533
	long long no_retry_reads;no_retry_reads581,15559
	long long no_retry_read_hits;no_retry_read_hits582,15586
	long long no_retry_writes;no_retry_writes583,15617
	long long no_retry_write_hits;no_retry_write_hits584,15645
	long long completed_prefetches;completed_prefetches586,15679
	long long programmed_prefetches;programmed_prefetches587,15712
	long long useful_prefetches;useful_prefetches588,15746
	long long delayed_hits;delayed_hits589,15776
	double prefetch_precision;prefetch_precision590,15801
	double prefetch_coverage;prefetch_coverage591,15829
enum mod_request_dir_tmod_request_dir_t751,21608
	mod_request_invalid = 0,mod_request_invalid753,21633
	mod_request_up_down,mod_request_up_down754,21659
	mod_request_down_upmod_request_down_up755,21681
enum ack_typesack_types759,21722
	reply_NO_REPLY = 0,reply_NO_REPLY761,21739
	reply_ACK,reply_ACK762,21760
	reply_ACK_DATA,reply_ACK_DATA763,21772
	reply_ACK_DATA_SENT_TO_PEER,reply_ACK_DATA_SENT_TO_PEER764,21789
	reply_ACK_ERRORreply_ACK_ERROR765,21819
struct mod_stack_tmod_stack_t769,21852
	long long id;id771,21873
	enum mod_access_kind_t access_kind;access_kind772,21888
	int *witness_ptr;witness_ptr773,21925
	struct linked_list_t *event_queue;event_queue775,21945
	void *event_queue_item;event_queue_item776,21981
	struct mod_t *mod;mod778,22007
	struct mod_t *target_mod;target_mod779,22027
	struct mod_t *except_mod;except_mod780,22054
	struct mod_t *peer;peer781,22081
	struct mod_port_t *port;port783,22103
	unsigned int addr;addr785,22130
	int tag;tag786,22150
	int set;set787,22160
	int way;way788,22170
	int state;state789,22180
	int core;core790,22192
	int thread;thread791,22203
	int src_set;src_set793,22217
	int src_way;src_way794,22231
	int src_tag;src_tag795,22245
	int src_pref_stream;src_pref_stream796,22259
	int src_pref_slot;src_pref_slot797,22281
	enum mod_request_dir_t request_dir;request_dir799,22302
	int reply_size;reply_size800,22339
	int reply;reply801,22356
	int retain_owner;retain_owner802,22368
	int pending;pending803,22387
	struct mod_stack_t *access_list_prev;access_list_prev806,22442
	struct mod_stack_t *access_list_next;access_list_next807,22481
	struct mod_stack_t *write_access_list_prev;write_access_list_prev810,22567
	struct mod_stack_t *write_access_list_next;write_access_list_next811,22612
	struct mod_stack_t *bucket_list_prev;bucket_list_prev814,22712
	struct mod_stack_t *bucket_list_next;bucket_list_next815,22751
	int hit : 1;hit818,22804
	int err : 1;err819,22818
	int shared : 1;shared820,22832
	int read : 1;read821,22849
	int nc_store : 1;nc_store822,22864
	int blocking : 1;blocking823,22883
	int writeback : 1;writeback824,22902
	int eviction : 1;eviction825,22922
	int pref_eviction : 1; //VVVpref_eviction826,22941
	int retry : 1;retry827,22971
	int coalesced : 1;coalesced828,22987
	int port_locked : 1;port_locked829,23007
	int prefetch; //VVVprefetch831,23030
	int prefetch_hit : 1;prefetch_hit832,23051
	int pref_stream; //VVVpref_stream833,23074
	int pref_slot; //VVVpref_slot834,23098
	struct cache_block_t * pref_block; //On prefetch hit, pointer to the block pref_block835,23120
	struct net_msg_t *msg;msg838,23239
	int waiting_list_event;  /* Event to schedule when stack is waken up */waiting_list_event841,23302
	struct mod_stack_t *waiting_list_prev;waiting_list_prev842,23375
	struct mod_stack_t *waiting_list_next;waiting_list_next843,23415
	int port_waiting_list_event;port_waiting_list_event846,23496
	struct mod_stack_t *port_waiting_list_prev;port_waiting_list_prev847,23526
	struct mod_stack_t *port_waiting_list_next;port_waiting_list_next848,23571
	struct mod_stack_t *waiting_list_head;waiting_list_head853,23794
	struct mod_stack_t *waiting_list_tail;waiting_list_tail854,23834
	int waiting_list_count;waiting_list_count855,23874
	int waiting_list_max;waiting_list_max856,23899
	struct mod_stack_t *master_stack;master_stack860,24064
	int dir_lock_event;dir_lock_event863,24140
	struct mod_stack_t *dir_lock_next;dir_lock_next864,24161
	struct mod_stack_t *ret_stack;ret_stack867,24218
	int ret_event;ret_event868,24250
#define mem_debugging(mem_debugging934,26287
#define mem_debug(mem_debug935,26344
#define mem_tracing(mem_tracing938,26438
#define mem_trace(mem_trace939,26493
#define mem_trace_header(mem_trace_header940,26555
struct mem_system_tmem_system_t943,26663
	struct list_t *mod_list;mod_list946,26721
	struct list_t *net_list;net_list947,26747

mmu.c,1707
char *mmu_report_file_name = "";mmu_report_file_name28,859
unsigned int mmu_page_size = 1 << 12;  /* 4KB default page size */mmu_page_size30,893
unsigned int mmu_log_page_size;mmu_log_page_size31,960
unsigned int mmu_page_mask;mmu_page_mask32,992
#define MMU_PAGE_HASH_SIZE MMU_PAGE_HASH_SIZE42,1075
#define MMU_PAGE_LIST_SIZE MMU_PAGE_LIST_SIZE43,1113
struct mmu_page_tmmu_page_t46,1179
	struct mmu_page_t *next;next48,1199
	int address_space_index;  /* Memory map ID */address_space_index50,1226
	unsigned int vtl_addr;  /* Virtual address of page */vtl_addr51,1273
	unsigned int phy_addr;  /* Physical address */phy_addr52,1328
	long long num_read_accesses;num_read_accesses55,1395
	long long num_write_accesses;num_write_accesses56,1425
	long long num_execute_accesses;num_execute_accesses57,1456
struct mmu_tmmu_t61,1522
	struct list_t *page_list;page_list64,1558
	struct mmu_page_t *page_hash_table[MMU_PAGE_HASH_SIZE];page_hash_table67,1613
	FILE *report_file;report_file70,1690
static struct mmu_t *mmu;mmu73,1714
static struct mmu_page_t *mmu_get_page(int address_space_index, unsigned int vtladdr)mmu_get_page82,1773
static int mmu_page_compare(const void *ptr1, const void *ptr2)mmu_page_compare137,3055
void mmu_init()mmu_init164,3648
void mmu_done()mmu_done188,4222
void mmu_dump_report(void)mmu_dump_report205,4455
int mmu_address_space_new(void)mmu_address_space_new245,5437
unsigned int mmu_translate(int address_space_index, unsigned int vtl_addr)mmu_translate253,5548
int mmu_valid_phy_addr(unsigned int phy_addr)mmu_valid_phy_addr268,5862
void mmu_access_page(unsigned int phy_addr, enum mmu_access_t access)mmu_access_page277,6006

command.c,1595
int EV_MEM_SYSTEM_COMMAND;EV_MEM_SYSTEM_COMMAND23,817
int EV_MEM_SYSTEM_END_COMMAND;EV_MEM_SYSTEM_END_COMMAND24,844
static void mem_system_command_expect(struct list_t *token_list, char *command_line)mem_system_command_expect33,908
static void mem_system_command_end(struct list_t *token_list, char *command_line)mem_system_command_end41,1108
static unsigned int mem_system_command_get_hex(struct list_t *token_list,mem_system_command_get_hex49,1340
static void mem_system_command_get_string(struct list_t *token_list,mem_system_command_get_string67,1782
int mem_system_command_get_high_low(struct list_t *token_list, char *command_line)mem_system_command_get_high_low75,2049
int mem_system_command_get_in_out(struct list_t *token_list, char *command_line)mem_system_command_get_in_out104,2615
static struct mod_t *mem_system_command_get_mod(struct list_t *token_list,mem_system_command_get_mod133,3177
static void mem_system_command_get_set_way(struct list_t *token_list, char *command_line, mem_system_command_get_set_way161,3735
static int mem_system_command_get_sub_block(struct list_t *token_list,mem_system_command_get_sub_block196,4641
static int mem_system_command_get_state(struct list_t *token_list,mem_system_command_get_state221,5314
static enum mod_access_kind_t mem_system_command_get_mod_access(struct list_t *token_list,mem_system_command_get_mod_access239,5777
void mem_system_command_handler(int event, void *data)mem_system_command_handler271,6576
void mem_system_end_command_handler(int event, void *data)mem_system_end_command_handler432,11290

memory.c,2451
unsigned long mem_mapped_space = 0;mem_mapped_space26,898
unsigned long mem_max_mapped_space = 0;mem_max_mapped_space27,934
int mem_safe_mode = 1;mem_safe_mode30,991
struct mem_page_t *mem_page_get(struct mem_t *mem, unsigned int addr)mem_page_get34,1067
struct mem_page_t *mem_page_get_next(struct mem_t *mem, unsigned int addr)mem_page_get_next66,1773
static struct mem_page_t *mem_page_create(struct mem_t *mem, unsigned int addr, int perm)mem_page_create106,2758
static void mem_page_free(struct mem_t *mem, unsigned int addr)mem_page_free134,3431
void mem_copy(struct mem_t *mem, unsigned int dest, unsigned int src, int size)mem_copy167,4132
void *mem_get_buffer(struct mem_t *mem, unsigned int addr, int size,mem_get_buffer216,5425
static void mem_access_page_boundary(struct mem_t *mem, unsigned int addr,mem_access_page_boundary250,6255
void mem_access(struct mem_t *mem, unsigned int addr, int size, void *buf,mem_access320,8079
void mem_read(struct mem_t *mem, unsigned int addr, int size, void *buf)mem_read340,8487
void mem_write(struct mem_t *mem, unsigned int addr, int size, void *buf)mem_write346,8618
struct mem_t *mem_create()mem_create353,8782
void mem_free(struct mem_t *mem)mem_free370,9020
struct mem_t *mem_link(struct mem_t *mem)mem_link378,9114
void mem_unlink(struct mem_t *mem)mem_unlink385,9194
void mem_clear(struct mem_t *mem)mem_clear396,9348
unsigned int mem_map_space(struct mem_t *mem, unsigned int addr, int size)mem_map_space409,9607
unsigned int mem_map_space_down(struct mem_t *mem, unsigned int addr, int size)mem_map_space_down449,10376
void mem_map(struct mem_t *mem, unsigned int addr, int size,mem_map491,11377
void mem_unmap(struct mem_t *mem, unsigned int addr, int size)mem_unmap517,12117
void mem_protect(struct mem_t *mem, unsigned int addr, int size, enum mem_access_t perm)mem_protect534,12563
void mem_write_string(struct mem_t *mem, unsigned int addr, char *str)mem_write_string558,13113
int mem_read_string(struct mem_t *mem, unsigned int addr, int size, char *str)mem_read_string567,13441
void mem_zero(struct mem_t *mem, unsigned int addr, int size)mem_zero580,13662
void mem_dump(struct mem_t *mem, char *filename, unsigned int start, unsigned int end)mem_dump588,13826
void mem_load(struct mem_t *mem, char *file_name, unsigned int start)mem_load614,14359
void mem_clone(struct mem_t *dst_mem, struct mem_t *src_mem)mem_clone643,15005

directory.c,1872
#define DIR_ENTRY_SHARERS_SIZE DIR_ENTRY_SHARERS_SIZE24,831
#define DIR_ENTRY_SIZE DIR_ENTRY_SIZE25,889
#define DIR_ENTRY(DIR_ENTRY26,966
struct dir_t *dir_create(char *name, int xsize, int ysize, int zsize,dir_create30,1123
void dir_free(struct dir_t *dir)dir_free108,2985
struct dir_entry_t *dir_entry_get(struct dir_t *dir, int x, int y, int z)dir_entry_get117,3103
struct dir_entry_t *dir_pref_entry_get(struct dir_t *dir, int pref_stream, int pref_slot, int z)dir_pref_entry_get125,3333
void dir_entry_dump_sharers(struct dir_t *dir, int x, int y, int z)dir_entry_dump_sharers136,3784
void dir_entry_set_owner(struct dir_t *dir, int x, int y, int z, int node)dir_entry_set_owner150,4122
void dir_entry_set_sharer(struct dir_t *dir, int x, int y, int z, int node)dir_entry_set_sharer165,4509
void dir_entry_clear_sharer(struct dir_t *dir, int x, int y, int z, int node)dir_entry_clear_sharer186,5075
void dir_entry_clear_all_sharers(struct dir_t *dir, int x, int y, int z)dir_entry_clear_all_sharers207,5634
int dir_entry_is_sharer(struct dir_t *dir, int x, int y, int z, int node)dir_entry_is_sharer224,6021
int dir_entry_group_shared_or_owned(struct dir_t *dir, int x, int y)dir_entry_group_shared_or_owned234,6287
struct dir_lock_t *dir_pref_lock_get(struct dir_t *dir, int pref_stream, int pref_slot)dir_pref_lock_get247,6565
struct dir_lock_t *dir_lock_get(struct dir_t *dir, int x, int y)dir_lock_get256,6877
int dir_pref_entry_lock(struct dir_t *dir, int pref_stream, int pref_slot, int event,dir_pref_entry_lock265,7140
int dir_entry_lock(struct dir_t *dir, int x, int y, int event, struct mod_stack_t *stack)dir_entry_lock327,8694
void dir_entry_unlock(struct dir_t *dir, int x, int y)dir_entry_unlock389,10157
void dir_pref_entry_unlock(struct dir_t *dir, int pref_stream, int pref_slot)dir_pref_entry_unlock413,10813
